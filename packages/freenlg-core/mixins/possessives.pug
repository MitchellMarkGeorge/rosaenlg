
//-
  tmp
  owner est probablement plus qu'un booléen : doit porter le possesseur


mixin recipientPossession(owned)
  -
    var nextRef = getNextRep(owned, {_OWNER: true});
    // console.log('nextRef: ' + 'gender='+getRefGender(nextRef) + ' number='+getRefNumber(nextRef));

  | #{getSorP(['votre', 'vos'], nextRef)} #[+value(owned, {_OWNER: true})]



//- 
  tmp
  todo plurals
mixin thirdPossession(owner, owned, params)
  -
    // on a besoin de savoir si ça va être ref ou ana, mais aussi le genre, le nombre...
    var nextRef = getNextRep(owner, params);
    //console.log('nextRef: ' + 'gender='+getRefGender(nextRef) + ' number='+getRefNumber(nextRef) + ' REPRESENTANT=' + nextRef.REPRESENTANT);
  if nextRef.REPRESENTANT == 'ref'
    //- ref not triggered, thus we have to do it
    //- FR : osef pluriel ou singulier : la couleur DES diamants
    | #{getMorF(['le','la'], owned)} #{owned} #{getSorP(['de','des'], nextRef)} #[+value(owner, params)]
  else if nextRef.REPRESENTANT == 'ana'
    //- ref was already triggered, we only have to manage the possessive
    - var number = getRefNumber(nextRef);
    if number==null || number=='S'
      | #{getMorF(['son','sa'], owned)} #{owned}
    else if number=='P'
      | leur #{owned}
    else
      - console.log('ERROR thirdPossession internal 2: ' + JSON.stringify(nextRef));
  else
    - console.log('ERROR thirdPossession internal: ' + JSON.stringify(nextRef));
