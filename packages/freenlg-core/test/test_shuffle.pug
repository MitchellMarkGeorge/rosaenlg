include ../mixins/main

-
  util.expected = [
    '<t>',
      '<l>12</l>',
      '<l>312</l>',
      '<l>132</l>',
      '<l>no shuffle: 1, 2 and 3</l>',
      '<l>1, 3 and 2</l>',
      '<l>2, 1 and 3</l>',
      '<l>2, 1 and 3</l>',
      '<l>2, 3 and 1</l>',
      '<l>2, 3 and 1</l>',
    '</t>'
  ].join('');

mixin toshuffle(asm, params)
  itemz asm
    item
      | 1
    item
      | 2
    item
      if hasFlag(params, '_3')
        | 3

t
  l #[+toshuffle({shuffle:true})]
  l #[+toshuffle({shuffle:true}, {_3: true})]
  l #[+toshuffle({shuffle:true}, {_3: true})]
  
  l no shuffle: #[+toshuffle({shuffle:false, separator: ', ', last_separator: ' and '}, {_3: true})]

  each i in [1,2,3,4,5]
    l #[+toshuffle({shuffle:true, separator: ', ', last_separator: ' and '}, {_3: true})]
  
